---
title: 'JavaScript-Versprechen verwenden'
parent: Developers
---

<article class="bcls-article">
  <h1>Konzepte: Verwenden von JavaScript-Versprechen</h1>
  <summary>In diesem Thema erfahren Sie, wie Sie JavaScript-Versprechen verwenden, die von einigen Brightcove Player-Methoden zurückgegeben werden.</summary>
  <section class="bcls-section">
    <h2 id="section-name2">Einfaches Versprechen</h2>
    <!-- <aside class="bcls-aside bcls-aside--information">Note: <strong translate="No">Promises</strong> do not work in IE11. Use the polyfill of the <a translate="No" href="https://www.npmjs.com/package/es6-promise">ES6-Promise</a> to add this functionality to IE11.</aside> -->
    <p>Obwohl es NICHT der Zweck dieses Dokuments ist, Ihnen das Schreiben eines JavaScript beizubringen <code translate="No">Promise</code> Um zu verstehen, wie man sie benutzt, ist es lehrreich zu sehen, wie einfach es ist <code translate="No">Promise</code> ist codiert.</p>
    <p>Im Folgenden wird a <code translate="No">Promise</code> wird erstellt, die eine Zeichenfolge zurückgibt, die angibt, ob eine Aufgabe abgeschlossen wurde oder nicht. Der entscheidende Punkt ist, dass entweder die <code translate="No">Promise.resolve()</code> oder <code translate="No">Promise.reject()</code> Methode wird aufgerufen. In diesem Fall wird von beiden Methoden eine einfache Zeichenfolge übergeben, dies kann jedoch ein Objekt sein.</p>
    <aside class="bcls-aside bcls-aside--information">Hinweis: Obwohl in diesem einfachen Beispiel NICHT demonstriert, ist die <code translate="No">Promise</code> Objekt repräsentiert die <strong>eventuelle Fertigstellung</strong> (oder Versagen) eines <strong>asynchroner Betrieb</strong> und der daraus resultierende Wert. Auf diese Weise <code translate="No">Promise</code> ähnelt a im Konzept einer Callback-Funktion.</aside>
    <pre class="line-numbers">
          <code class="language-javascript" translate="No">let promiseToFinishTask = new Promise(function(resolve, reject) {
          
            //Business logic to set taskComplete boolean
            let taskComplete = true;
          
            if (taskComplete) {
              resolve('Yea, I am done');
            } else {
              reject('Not quite done');
            }
          });</code></pre>
    <p>Jetzt werden Sie sehen, wie Sie mit der Rückgabe umgehen <code translate="No">Promise</code> Informationen, die Sie mit einigen Brightcove Player-API-Methodenaufrufen ausführen werden. Die grundlegende Handhabung von a folgt:</p>
    folgt:
    <pre class="line-numbers">
          <code class="language-javascript" translate="No">promiseName.then(
            // Function call for promise resolved
          ).catch(
            // Function call for promise rejected
          )</code></pre>
    <p>Die Behandlung des obigen einfachen Beispiels würde wie folgt aussehen:</p>
    <pre class="line-numbers">
          <code class="language-javascript" translate="No">promiseToFinishTask.then(function(fromResolve) {
            console.log(fromResolve);
          }).catch(function(fromReject) {
            console.log(fromReject);
          });</code></pre>
    <p>Wenn die <code translate="No">Promise</code> ist das gelöst <code translate="No">then</code> Code wird ausgeführt, und wenn die <code translate="No">Promise</code> wird abgelehnt die <code translate="No">catch</code> Code wird ausgeführt. Für das Beispiel eine der Zeichenfolgen <strong translate="No">Ja, ich bin fertig</strong> oder <strong translate="No">Nicht ganz fertig</strong> würde basierend auf der Geschäftslogik erscheinen, die die <code translate="No">taskComplete</code> Wert der Variablen.</p>
  </section>
  <section class="bcls-section">
    <h2 id="section-name3">Brightcove-Beispiel</h2>
    <p>Der Brightcove-Spieler <code translate="No">play()</code> Die Methode gibt möglicherweise ein Versprechen zurück, mit dem überprüft werden kann, ob der Player das aktuell im Player befindliche Video automatisch wiedergeben kann. Der Code, der sich mit dem befasst <code translate="No">Promise</code> ist markiert:</p>
    <pre class="line-numbers">
          <code class="language-javascript" translate="No">var myPlayer = videojs.getPlayer('myPlayerID');
          myPlayer.on('loadedmetadata',function() {
            var promise = myPlayer.play();
            if (promise !== undefined) {
              <span class="bcls-highlight">promise.then(function() {
                // Autoplay started!
              }).catch(function(error) {
                // Autoplay was prevented.
              });</span>
            }
          });</code></pre>
    <p>Auf dieser Grundlage können Sie dann das Verhalten codieren, ob das Video automatisch abgespielt wurde oder nicht. Einen speziellen Anwendungsfall für die Wiedergabe des Videos mit Audio, wenn möglich, finden Sie in der <a href="https://player.support.brightcove.com/playback/autoplay-considerations.html#Specific_use_case">Spezifischer Anwendungsfall</a> Abschnitt der <strong>Überlegungen zur automatischen Wiedergabe</strong> Dokument.</p>
    <p>Vollständige Informationen zu JavaScript-Versprechungen finden Sie in der <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">MDN-Versprechen</a> Dokument.</p>
  </section>
  <section class="bcls-section">
    <h2 id="Promise_versus_callback"><code translate="No">Promise</code> versus Rückruf</h2>
    <p>In diesem Abschnitt die Kataloge <code translate="No">get()</code> Methode wird verwendet, um den Syntaxunterschied zwischen der Verwendung von a zu demonstrieren <code translate="No">Promise</code> versus eine Rückruffunktion. Das <code translate="No">get()</code> Methode kann mit beiden Ansätzen verwendet werden.</p>
    <h3>Versprechenssyntax</h3>
    <p>Das Folgende ist ein Codeausschnitt, der den Aufruf des <code translate="No">get()</code> Methode, Behandlung der Antwort als <code translate="No">Promise</code>::</p>
    <pre class="line-numbers">
          <code class="language-javascript" translate="No">myPlayer.catalog.get(catalogParams).then(function(videosReturned){
            console.log('videosReturned',videosReturned);
            myPlayer.playlist(videosReturned);
          }).catch(function(errorObj){
            console.log('errorObj',errorObj);
          })</code></pre>
    <h3>Syntax der Rückruffunktion</h3>
    <p>Im Folgenden finden Sie ein Codeausschnitt, das den Aufruf der <code translate="No">get()</code> Methode zeigt und die Antwort mit einer Callback-Funktion behandelt:</p>
    <pre class="line-numbers">
            <code class="language-javascript" translate="No">myPlayer.catalog.get(catalogParams,function(errorObj,videosReturned){
            console.log('errorObj',errorObj);
            console.log('videosReturned',videosReturned);
            myPlayer.playlist(videosReturned);
          });
          </code></pre>
  </section>
</article>